<ng-container *ngIf="problem$ | async as problem">
  <mat-card>
    <mat-card-title>{{ problem.title }}</mat-card-title>
    <mat-card-subtitle>
      <app-difficulty-pill [difficulty]="problem.difficulty"></app-difficulty-pill>
      <app-tag-chip *ngFor="let t of problem.tags" [tag]="t"></app-tag-chip>
    </mat-card-subtitle>
    <mat-card-actions>
      <button mat-button (click)="rate(problem)">Rate Recall</button>
    </mat-card-actions>
    <mat-tab-group>
      <mat-tab label="Description">
        <div class="pad">{{ problem.description }}</div>
      </mat-tab>
      <mat-tab label="Notes">
        <div class="pad">
          <textarea matInput [(ngModel)]="notes" placeholder="Notes"></textarea>
          <button mat-button (click)="saveNotes(problem.id)">Save</button>
        </div>
      </mat-tab>
    </mat-tab-group>
  </mat-card>
</ng-container>
